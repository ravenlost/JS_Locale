"use strict";var namespace=function(e,a){var n=e.split(".");a||(a=window);for(var r=a,l=0;l<n.length;l++)r.hasOwnProperty(n[l])||(r[n[l]]={}),r=r[n[l]];return r};namespace("CorbeauPerdu.i18n"),CorbeauPerdu.i18n.Locale=function(lang,domain,data,useCustomPluralForms,debug){var _PLURALVALIDCHARS="()%=&!?|:<>0123456789n",_DEFAULTPLURAL="(n != 1)",_lang=lang,_defaultDomain=domain,_loadedDomains={},_workingPlural=_DEFAULTPLURAL,_useCustomPluralForms=useCustomPluralForms,_debug=debug,_formatMessages4Web=!1,_formatMessages4WebInclPlaceholders=!0,_validJSON=function(e){return e instanceof Array||e instanceof Object},_evalPlural=function(plural,n,workingDomain){var retval;if(isNaN(n))throw new CorbeauPerdu.i18n.LocaleException("Invalid 'n' number (e.g. item count) passed!",6);var n=Math.abs(n);if(!_evalProperPluralChars(plural))throw workingDomain?new CorbeauPerdu.i18n.LocaleException("Invalid characters found in 'plural' value of the '"+workingDomain+"' domain: '"+plural+"'\n\nContent of 'plural' may only use the 'n' variable, and make use of the following characters (excluding the quotes): '"+_PLURALVALIDCHARS+"'",7):new CorbeauPerdu.i18n.LocaleException("Invalid characters found in the default 'plural' set: '"+plural+"'\n\nContent of 'plural' may only use the 'n' variable, and make use of the following characters (excluding the quotes): '"+_PLURALVALIDCHARS+"'",7);try{retval=+eval(plural)}catch(e){throw workingDomain?new CorbeauPerdu.i18n.LocaleException("Invalid 'plural' ternary conditions format in the '"+workingDomain+"' domain: '"+plural+"'\n\n"+e.message,8):new CorbeauPerdu.i18n.LocaleException("Invalid default 'plural' ternary conditions format specified: '"+plural+"'\n\n"+e.message,8)}return retval},_evalProperPluralChars=function(e){return!e.match("[^ "+_escapeRegExp(_PLURALVALIDCHARS)+"]")},_escapeRegExp=function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},_stringToWeb=function(e,a=!0){var n=String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;");return 1==a&&(n=String(e).replace(/\n/g,"<br/>")),n};this.getLoadedDomains=function(){return _loadedDomains},this.getLang=function(){return _lang},this.getWorkingPlural=function(){return _workingPlural},this.setDefaultPlural=function(e){try{_evalPlural(e,1),_DEFAULTPLURAL=e}catch(e){throw e}},this.setFormatMessages4Web=function(e){var a=_formatMessages4Web;return _formatMessages4Web=e,a},this.setFormatMessages4WebInclPlaceholders=function(e){var a=_formatMessages4WebInclPlaceholders;return _formatMessages4WebInclPlaceholders=e,a},this.getDefaultPlural=function(){return _DEFAULTPLURAL},this.loadDomain=function(e,a){if(_debug&&console.log("Loading domain: "+e+"..."),!_validJSON(a))throw new CorbeauPerdu.i18n.LocaleException("Invalid JSON data for domain: '"+e+"'",1);if(_loadedDomains[e]=a,_useCustomPluralForms){var n=_loadedDomains[e][""].nplurals,r=_loadedDomains[e][""].plural;if(null==n||""===n.trim()||n.match("^[^0-9]*$")||n<0)throw delete _loadedDomains[e],new CorbeauPerdu.i18n.LocaleException("Missing or invalid 'nplurals' number in domain '"+e+"'",2);if(n>=1){if(null==r||""===r.trim())throw delete _loadedDomains[e],new CorbeauPerdu.i18n.LocaleException("Missing 'plural' ternary test conditions in domain '"+e+"'",3);if(r.split("?").length!=n)throw delete _loadedDomains[e],new CorbeauPerdu.i18n.LocaleException("The 'nplurals' value doesn't match the actual number of 'plural' conditions (number of possible returned values) in domain '"+e+"'",4);for(var l in _loadedDomains[e]){var o=_loadedDomains[e][l];if(""!=l&&Array.isArray(o)&&o.length!=n)throw delete _loadedDomains[e],new CorbeauPerdu.i18n.LocaleException("Possible plurals count ("+o.length+") for key '"+l+"' in domain '"+e+"' doesn't match the 'nplurals' value ("+n+") !",5)}_loadedDomains[e][""].nplurals=_loadedDomains[e][""].nplurals.trim(),_loadedDomains[e][""].plural=_loadedDomains[e][""].plural.trim();try{_evalPlural(_loadedDomains[e][""].plural,1,e),_workingPlural=_loadedDomains[e][""].plural}catch(a){throw delete _loadedDomains[e],a}}}_debug&&console.log("  loaded "+(_useCustomPluralForms?"with custom plural: ":"with default plural: ")+this.getWorkingPlural())},this.gettext=function(e,a){var n=Array.prototype.slice.call(arguments);return n.unshift(_defaultDomain),this.dgettext.apply(this,n)},this.ngettext=function(e,a,n,r){var l=Array.prototype.slice.call(arguments);return l.unshift(_defaultDomain),this.dngettext.apply(this,l)},this.dgettext=function(e,a,n){var r,l=_loadedDomains[e];if(null==l?(_debug&&console.error("Undefined domain: "+e),r=a):void 0===l[a]||null===l[a]||""===l[a].trim()?(_debug&&console.warn("Undefined message in domain '"+e+"': '"+a+"'"),r=a):r=l[a],!0===_formatMessages4Web&&!1===_formatMessages4WebInclPlaceholders&&(r=_stringToWeb(r)),n){var o=Array.prototype.slice.call(arguments,1);o[0]=r;try{r=sprintf.apply(null,o)}catch(e){console.error(e)}}return!0===_formatMessages4Web&&!0===_formatMessages4WebInclPlaceholders&&(r=_stringToWeb(r)),r},this.dngettext=function(e,a,n,r,l){var o,t=_loadedDomains[e];if(null==t)_debug&&console.error("Undefined domain: "+e),o=a;else{var i=t[a];"string"==typeof i&&(i=i.trim());var s=t[n];if("string"==typeof s&&(s=s.trim()),_useCustomPluralForms){var u=t[""].nplurals,d=t[""].plural;if(u>=1)try{var c=_evalPlural(d,r,e);o=s,1==u&&1==c?(Array.isArray(o)&&(o=o[0].trim()),null!=o&&""!==o||(_debug&&console.warn("Undefined message in domain '"+e+"': '"+n+"'"),o=n)):1==u&&0==c?null!=(o=i)&&""!==o||(_debug&&console.warn("Undefined message in domain '"+e+"': '"+a+"'"),o=a):null!=(o=Array.isArray(o)?o[c].trim():void 0)&&""!==o||(_debug&&console.warn("Undefined message in domain '"+e+"': '"+n+"' [array id: "+c+"]"),o=n)}catch(e){o=a,console.error("Plural evaluation for key '"+a+"' caused an exception with plural ('"+d+"'):\n\n"+e.message)}else null!=(o=i)&&""!==o||(_debug&&console.warn("Undefined message in domain '"+e+"': '"+a+"'"),o=a)}else try{1==(c=_evalPlural(_DEFAULTPLURAL,r))?null!=(o=Array.isArray(s)?s[0].trim():s)&&""!==o||(_debug&&console.warn("Undefined message in domain '"+e+"': '"+n+"'"),o=n):null!=(o=i)&&""!==o||(_debug&&console.warn("Undefined message in domain '"+e+"': '"+a+"'"),o=a)}catch(e){o=a,console.error("Plural evaluation for key '"+a+"' caused an exception with default plural ('"+_DEFAULTPLURAL+"'):\n\n"+e.message)}}if(!0===_formatMessages4Web&&!1===_formatMessages4WebInclPlaceholders&&(o=_stringToWeb(o)),l){var m=Array.prototype.slice.call(arguments,4);m.unshift(o);try{o=sprintf.apply(null,m)}catch(e){console.error(e)}}return!0===_formatMessages4Web&&!0===_formatMessages4WebInclPlaceholders&&(o=_stringToWeb(o)),o},this._=function(e,a){var n=Array.prototype.slice.call(arguments);return n.unshift(_defaultDomain),this.dgettext.apply(this,n)},this._n=function(e,a,n,r){var l=Array.prototype.slice.call(arguments);return l.unshift(_defaultDomain),this.dngettext.apply(this,l)},this._d=function(e,a,n){return this.dgettext.apply(this,Array.prototype.slice.call(arguments))},this._dn=function(e,a,n,r,l){return this.dngettext.apply(this,Array.prototype.slice.call(arguments))},_debug&&console.log("Locale is loading with lang: "+lang);try{this.loadDomain(domain,data)}catch(e){console.error(e)}},CorbeauPerdu.i18n.LocaleException=function(e,a){const n=new Error(e);return n.code=a,n.name="LocaleException",n};